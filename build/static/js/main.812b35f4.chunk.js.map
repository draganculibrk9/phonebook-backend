{"version":3,"sources":["services/phonebook.js","App.js","index.js"],"names":["baseUrl","Person","name","number","Persons","persons","deleteHandler","map","p","key","onClick","id","Filter","value","handler","onChange","PersonForm","nameHandler","numberHandler","submitHandler","onSubmit","type","Notification","message","error","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setMessage","setError","useEffect","axios","get","then","response","data","newName","setNewName","newNumber","setNewNumber","filter","setFilter","personsToShow","toLowerCase","startsWith","event","target","preventDefault","person","find","changedPerson","put","edit","changed","setTimeout","concat","post","create","window","confirm","delete","status","remove","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.812b35f4.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nexport const getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport const create = person => {\r\n    const request = axios.post(baseUrl, person)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport const remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.status)\r\n}\r\n\r\nexport const edit = person => {\r\n    const request = axios.put(`${baseUrl}/${person.id}`, person)\r\n    return request.then(response => response.data)\r\n}","import React, {useState, useEffect} from 'react'\r\nimport {getAll, create, remove, edit} from './services/phonebook'\r\n\r\nconst Person = ({name, number}) =>\r\n    (\r\n        <li>{name} {number}</li>\r\n    )\r\n\r\nconst Persons = ({persons, deleteHandler}) =>\r\n    (\r\n        <ul>\r\n            {persons.map(p => <span key={p.name}><Person name={p.name} number={p.number}/>\r\n                <button\r\n                    onClick={() => deleteHandler(p.id, p.name)}>delete\r\n                </button>\r\n            </span>)}\r\n        </ul>\r\n    )\r\n\r\nconst Filter = ({value, handler}) =>\r\n    (\r\n        <div>\r\n            filter shown with <input value={value} onChange={handler}/>\r\n        </div>\r\n    )\r\n\r\nconst PersonForm = ({name, number, nameHandler, numberHandler, submitHandler}) =>\r\n    (\r\n        <form onSubmit={submitHandler}>\r\n            <div>\r\n                name: <input value={name} onChange={nameHandler}/>\r\n            </div>\r\n            <div>\r\n                number: <input value={number} onChange={numberHandler}/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n\r\nconst Notification = ({message, error}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    const style = {\r\n        color: error ? 'red' : 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    return (\r\n        <div style={style}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [message, setMessage] = useState(null)\r\n    const [error, setError] = useState(false)\r\n\r\n    const hook = () => {\r\n        getAll().then(persons => setPersons(persons))\r\n    }\r\n\r\n    useEffect(hook, [])\r\n\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n\r\n    const [filter, setFilter] = useState('')\r\n\r\n    const personsToShow = filter ? persons.filter(p => p.name.toLowerCase().startsWith(filter)) : persons;\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault();\r\n        const person = persons.find(person => person.name === newName)\r\n\r\n        if (person) {\r\n            const changedPerson = {...person, number: newNumber}\r\n            edit(changedPerson).then(changed => {\r\n                setMessage(`Changed number for ${changedPerson.name}`)\r\n                setTimeout(() => setMessage(null), 3000)\r\n                setPersons(persons.filter(p => p.id !== person.id).concat(changed))\r\n            })\r\n        } else {\r\n            const newPerson = {\r\n                name: newName,\r\n                number: newNumber\r\n            }\r\n\r\n            create(newPerson).then(person => {\r\n                setMessage(`Added ${person.name}`)\r\n                setTimeout(() => setMessage(null), 3000)\r\n                setPersons(persons.concat(person))\r\n            })\r\n        }\r\n\r\n        setNewName('')\r\n        setNewNumber('')\r\n    }\r\n\r\n    const deletePerson = (id, name) => {\r\n        if (window.confirm(`Delete ${name}?`)) {\r\n            remove(id).then(() => {\r\n                setPersons(persons.filter(person => person.id !== id))\r\n\r\n            }).catch(() => {\r\n                setError(true)\r\n                setMessage(`Information of ${name} has already been removed from server`)\r\n                setTimeout(() => {\r\n                    setError(false)\r\n                    setMessage(null)\r\n                }, 3000)\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value);\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={message} error={error}/>\r\n            <Filter value={filter} handler={(event) => setFilter(event.target.value)}/>\r\n            <h3>add a new</h3>\r\n            <PersonForm name={newName} nameHandler={handleNameChange} number={newNumber}\r\n                        numberHandler={handleNumberChange} submitHandler={addPerson}/>\r\n            <h3>Numbers</h3>\r\n            <Persons persons={personsToShow} deleteHandler={deletePerson}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App/>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}